!!! 5
html
    head
        meta(charset='utf-8')
        title Регистрация - Научная конференция 2013
        link(rel='stylesheet', href='../assets/css/bootstrap.css')
        link(rel='stylesheet', href='../assets/css/bootstrap-responsive.css')
        link(rel='stylesheet', href='../assets/css/custom.css')
    body
        .navbar.navbar-inverse.navbar-fixed-top
            .navbar-inner
                .container-fluid
                    a.brand(href='javascript:;') Научная конференция 2013

        .container-fluid
            #needFixErrors.alert.alert-error.fade.in.hide
                button(type="button", class="close") ×
                h4.alert-heading Ошибки при заполнении формы :(
                p Пожалуйста, исправьте их все и повторите попытку регистрации

            form.form-signin
                h2.form-signin-heading Регистрация
                input.span7.input-block-level(data-bind='value: user.name',            type='text',   placeholder='Имя')
                input.span7.input-block-level(data-bind='value: user.surname',         type='text',   placeholder='Фамилия')
                input.span7.input-block-level(data-bind='value: user.patronymic',      type='text',   placeholder='Отчество')
                input.span7.input-block-level(data-bind='value: user.academicDegree',  type='text',   placeholder='Научная степень')
                input.span7.input-block-level(data-bind='value: user.academicTitle',   type='text',   placeholder='Ученое звание')
                input.span7.input-block-level(data-bind='value: user.jobPosition',     type='text',   placeholder='Должность')
                input.span7.input-block-level(data-bind='value: user.jobPlace',        type='text',   placeholder='Место работы')
                input.span7.input-block-level(data-bind='value: user.city',            type='text',   placeholder='Город')
                input.span7.input-block-level(data-bind='value: user.country',         type='text',   placeholder='Страна')
                input.span7.input-block-level(data-bind='value: user.postalAddress',   type='text',   placeholder='Почтовый адрес')
                input.span7.input-block-level(data-bind='value: user.email',           type='email',  placeholder='Электронный адрес')
                input.span7.input-block-level(data-bind='value: user.phone',           type='text',   placeholder='Телефон')
                input.span7.input-block-level(data-bind='value: user.participantType', type='text',   placeholder='Форма участия в конференции')
                input.span7.input-block-level(data-bind='value: user.lectureTitle',    type='text',   placeholder='Название доклада')
                input.span7.input-block-level(data-bind='value: user.sectionNumber',   type='number', placeholder='Номер секции')
                label.checkbox
                    input(data-bind='checked: user.monographyParticipant', type='checkbox')
                    | Участвуете в монографии?

                input.span7.input-block-level(data-bind='visible: user.monographyParticipant, value: user.monographyTitle', type='text', placeholder='Название раздела монографии')
                label.checkbox
                    input(data-bind='checked: user.stayDemand', type='checkbox')
                    | Есть потребность в проживании?
                input.span7.input-block-level(data-bind='visible: user.stayDemand, value: user.stayStart', type='text', placeholder='От')
                input.span7.input-block-level(data-bind='visible: user.stayDemand, value: user.stayEnd',   type='text', placeholder='До')
                br
                button.btn.btn-large.btn-primary(data-bind='click: doRegister', type='submit') Готово


        script(src="../assets/js/libs/jquery-1.9.1.min.js")
        script(src="../assets/js/libs/bootstrap.min.js")
        script(src="../assets/js/libs/knockout-2.2.1.js")
        script(src="../assets/js/libs/knockout.mapping.js")
        script(src="../assets/js/libs/knockout.validation.js")

        script(src="../assets/js/Alert.js")
        script(src="../assets/js/viewModels/UserRegistrationViewModel.js")

        :coffeescript
            # ko.validation.configure
            #     decorateElement:      yes
            #     parseInputAttributes: yes

            ko.validation.configure
                registerExtenders: true,
                messagesOnModified: true,
                insertMessages: true,
                parseInputAttributes: true,
                messageTemplate: null

            ko.applyBindings new UserRegistrationViewModel
